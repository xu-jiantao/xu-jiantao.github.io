<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åå°ç®¡ç†</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        .admin-container {
            max-width: 1400px;
            margin: 40px auto;
            padding: 20px;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .admin-title {
            font-size: 24px;
            font-weight: 600;
        }

        .admin-nav {
            display: flex;
            gap: 20px;
        }

        .admin-nav a {
            color: var(--text-color);
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .admin-nav a:hover {
            background: var(--hover-color);
        }

        .admin-nav a.active {
            background: var(--primary-color);
            color: white;
        }

        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .content-section {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .content-section h2 {
            margin-bottom: 20px;
            color: var(--text-color);
        }

        .edit-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .form-group label {
            font-weight: 500;
            color: var(--text-color);
        }

        .form-group textarea {
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-size: 16px;
            min-height: 300px;
            font-family: monospace;
        }

        .preview-section {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .preview-section h2 {
            margin-bottom: 20px;
            color: var(--text-color);
        }

        .preview-content {
            padding: 20px;
            background: white;
            border-radius: 5px;
            min-height: 300px;
        }

        .button-group {
            display: flex;
            gap: 10px;
        }

        .save-btn {
            background: var(--primary-color);
            color: white;
            padding: 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .save-btn:hover {
            background: var(--primary-color-dark);
        }

        .delete-btn {
            background: var(--danger-color);
            color: white;
            padding: 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .delete-btn:hover {
            background: var(--danger-color-dark);
        }

        .success-message {
            color: #28a745;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }

        .logout-btn {
            background: var(--danger-color);
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .logout-btn:hover {
            background: var(--danger-color-dark);
        }

        .content-list {
            margin-top: 20px;
        }

        .content-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            margin-bottom: 10px;
        }

        .content-item:hover {
            background: var(--hover-color);
        }

        .content-item-actions {
            display: flex;
            gap: 10px;
        }

        .content-item-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 14px;
        }

        .edit-btn {
            background: var(--primary-color);
            color: white;
        }

        .delete-item-btn {
            background: var(--danger-color);
            color: white;
        }

        .lang-switch {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .lang-btn {
            padding: 8px 15px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background: var(--card-bg);
            cursor: pointer;
            transition: all 0.3s;
        }

        .lang-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .preview-tabs {
            display: flex;
            gap: 10px;
        }

        .preview-tab {
            padding: 8px 15px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background: var(--card-bg);
            cursor: pointer;
            transition: all 0.3s;
        }

        .preview-tab.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <div class="admin-header">
            <h1 class="admin-title">åå°ç®¡ç†</h1>
            <div class="admin-nav">
                <a href="#" class="active" data-section="about">å…³äºæˆ‘</a>
                <a href="#" data-section="education">æ•™è‚²ç»å†</a>
                <a href="#" data-section="experience">å·¥ä½œç»éªŒ</a>
                <a href="#" data-section="contact">è”ç³»æ–¹å¼</a>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> é€€å‡ºç™»å½•
                </button>
            </div>
        </div>

        <div class="content-wrapper" id="aboutSection">
            <div class="content-section">
                <div class="lang-switch">
                    <button class="lang-btn active" data-lang="zh">ä¸­æ–‡</button>
                    <button class="lang-btn" data-lang="en">English</button>
                </div>
                <h2>ç¼–è¾‘"å…³äºæˆ‘"å†…å®¹</h2>
                <form class="edit-form" id="aboutForm">
                    <div class="form-group">
                        <label for="aboutContent">å†…å®¹ï¼ˆæ”¯æŒ Markdown æ ¼å¼ï¼‰</label>
                        <textarea id="aboutContent" name="aboutContent"></textarea>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="save-btn">ä¿å­˜æ›´æ”¹</button>
                        <button type="button" class="delete-btn" onclick="deleteContent('about')">åˆ é™¤å†…å®¹</button>
                    </div>
                    <div class="success-message" id="aboutSuccess">ä¿å­˜æˆåŠŸï¼</div>
                </form>
            </div>

            <div class="preview-section">
                <div class="preview-tabs">
                    <button class="preview-tab active" data-lang="zh">ä¸­æ–‡é¢„è§ˆ</button>
                    <button class="preview-tab" data-lang="en">English Preview</button>
                </div>
                <div class="preview-content" id="previewContent"></div>
            </div>
        </div>

        <div class="content-wrapper" style="display: none;" id="educationSection">
            <div class="content-section">
                <h2>ç¼–è¾‘"æ•™è‚²ç»å†"å†…å®¹</h2>
                <form class="edit-form" id="educationForm">
                    <div class="form-group">
                        <label for="educationContent">å†…å®¹ï¼ˆæ”¯æŒ Markdown æ ¼å¼ï¼‰</label>
                        <textarea id="educationContent" name="educationContent"></textarea>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="save-btn">ä¿å­˜æ›´æ”¹</button>
                        <button type="button" class="delete-btn" onclick="deleteContent('education')">åˆ é™¤å†…å®¹</button>
                    </div>
                    <div class="success-message" id="educationSuccess">ä¿å­˜æˆåŠŸï¼</div>
                </form>
            </div>

            <div class="preview-section">
                <h2>å®æ—¶é¢„è§ˆ</h2>
                <div class="preview-content" id="previewContent"></div>
            </div>
        </div>

        <div class="content-wrapper" style="display: none;" id="experienceSection">
            <div class="content-section">
                <h2>ç¼–è¾‘"å·¥ä½œç»éªŒ"å†…å®¹</h2>
                <form class="edit-form" id="experienceForm">
                    <div class="form-group">
                        <label for="experienceContent">å†…å®¹ï¼ˆæ”¯æŒ Markdown æ ¼å¼ï¼‰</label>
                        <textarea id="experienceContent" name="experienceContent"></textarea>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="save-btn">ä¿å­˜æ›´æ”¹</button>
                        <button type="button" class="delete-btn" onclick="deleteContent('experience')">åˆ é™¤å†…å®¹</button>
                    </div>
                    <div class="success-message" id="experienceSuccess">ä¿å­˜æˆåŠŸï¼</div>
                </form>
            </div>

            <div class="preview-section">
                <h2>å®æ—¶é¢„è§ˆ</h2>
                <div class="preview-content" id="previewContent"></div>
            </div>
        </div>

        <div class="content-wrapper" style="display: none;" id="contactSection">
            <div class="content-section">
                <h2>ç¼–è¾‘"è”ç³»æ–¹å¼"å†…å®¹</h2>
                <form class="edit-form" id="contactForm">
                    <div class="form-group">
                        <label for="contactContent">å†…å®¹ï¼ˆæ”¯æŒ Markdown æ ¼å¼ï¼‰</label>
                        <textarea id="contactContent" name="contactContent"></textarea>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="save-btn">ä¿å­˜æ›´æ”¹</button>
                        <button type="button" class="delete-btn" onclick="deleteContent('contact')">åˆ é™¤å†…å®¹</button>
                    </div>
                    <div class="success-message" id="contactSuccess">ä¿å­˜æˆåŠŸï¼</div>
                </form>
            </div>

            <div class="preview-section">
                <h2>å®æ—¶é¢„è§ˆ</h2>
                <div class="preview-content" id="previewContent"></div>
            </div>
        </div>
    </div>

    <script>
        // æ£€æŸ¥ç™»å½•çŠ¶æ€
        function checkLogin() {
            const isAdminLoggedIn = localStorage.getItem('isAdminLoggedIn');
            if (!isAdminLoggedIn) {
                window.location.href = 'admin-login.html';
            }
        }

        // é€€å‡ºç™»å½•
        function logout() {
            localStorage.removeItem('isAdminLoggedIn');
            window.location.href = 'admin-login.html';
        }

        // é»˜è®¤å†…å®¹
        const defaultContents = {
            zh: {
                about: `# å…³äºæˆ‘

æˆ‘ç›®å‰åœ¨æ—¥æœ¬ä¼šæ´¥å¤§å­¦æ”»è¯»è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿåšå£«å­¦ä½ã€‚æˆ‘çš„ç ”ç©¶å…´è¶£åŒ…æ‹¬è”é‚¦å­¦ä¹ å’Œæœºå™¨å­¦ä¹ ã€‚

## ç ”ç©¶æ–¹å‘
- ğŸ¤– è”é‚¦å­¦ä¹ 
- ğŸ§  æœºå™¨å­¦ä¹ 
- ğŸ“Š æ•°æ®åˆ†æ

## ä¸“ä¸šæŠ€èƒ½
- ğŸ’» ç¼–ç¨‹è¯­è¨€ï¼šHTMLã€Javaã€Python
- ğŸ—„ï¸ æ•°æ®åº“ï¼šMySQL
- ğŸ–¥ï¸ ç³»ç»Ÿï¼šLinuxæœåŠ¡å™¨`,
                
                education: `# æ•™è‚²ç»å†

## åšå£«ï¼šè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿ
- ğŸ« ä¼šæ´¥å¤§å­¦ï¼Œæ—¥æœ¬
- ğŸ“… 2023å¹´10æœˆè‡³ä»Š

## ç¡•å£«ï¼šè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿ
- ğŸ« ä¼šæ´¥å¤§å­¦ï¼Œæ—¥æœ¬
- ğŸ“… 2021å¹´10æœˆ-2023å¹´10æœˆ

## å­¦å£«ï¼šè®¡ç®—æœºä¿¡æ¯ç®¡ç†
- ğŸ« éƒ‘å·å¤§å­¦ï¼Œä¸­å›½
- ğŸ“… 2017å¹´-2021å¹´`,
                
                experience: `# å·¥ä½œç»å†

## EyesJapanï¼ˆå…¼èŒï¼‰
*2023å¹´10æœˆè‡³ä»Š*
- ğŸ’» ç½‘é¡µå¼€å‘
- ğŸ”§ å‰åç«¯å¼€å‘
- ğŸ“Š æ•°æ®åº“å¼€å‘

## ä¸Šæµ·æŸä¿é™©å…¬å¸æ•°æ®ä¸­å¿ƒ
*2021å¹´4æœˆ-2022å¹´8æœˆ*

## æ‰€è·è¯ä¹¦
- ğŸ“œ å¤§å­¦è‹±è¯­å››çº§è¯ä¹¦
- ğŸš— ä¸­å›½é©¾ç…§`,

                contact: `# è”ç³»æ–¹å¼

- ğŸ“§ é‚®ç®±ï¼šxujiantao9510@gmail.com
- ğŸŒ ä¸ªäººç½‘ç«™ï¼šhttps://xu-jiantao.github.io
- ğŸ’¬ Wechatï¼šdylanethan9510`
            },
            en: {
                about: `# About Me

I am currently pursuing a Ph.D. degree in Computer Information Systems at the University of Aizu, Japan. My research interests include Federated Learning and Machine Learning.

## Research Interests
- ğŸ¤– Federated Learning
- ğŸ§  Machine Learning
- ğŸ“Š Data Analysis

## Technical Skills
- ğŸ’» Programming Languages: HTML, Java, Python
- ğŸ—„ï¸ Database: MySQL
- ğŸ–¥ï¸ System: Linux Server`,
                
                education: `# Education

## Ph.D. in Computer Information Systems
- ğŸ« University of Aizu, Japan
- ğŸ“… October 2023 - Present

## Master's in Computer Information Systems
- ğŸ« University of Aizu, Japan
- ğŸ“… October 2021 - October 2023

## Bachelor's in Computer Information Management
- ğŸ« Zhengzhou University, China
- ğŸ“… 2017 - 2021`,
                
                experience: `# Professional Experience

## EyesJapan (Part-time)
*October 2023 - Present*
- ğŸ’» Web development
- ğŸ”§ Frontend and Backend development
- ğŸ“Š Database development

## A company of Insurance Data Center, Shanghai
*April 2021 - August 2022*

## Certifications
- ğŸ“œ CET-4 (College English Test Band 4)
- ğŸš— Chinese Driver's License`,

                contact: `# Contact Information

- ğŸ“§ Email: xujiantao9510@gmail.com
- ğŸŒ Website: https://xu-jiantao.github.io
- ğŸ’¬ Wechat: dylanethan9510`
            }
        };

        let currentLang = 'zh';
        let currentSection = 'about';

        // åŠ è½½å†…å®¹
        function loadContent() {
            const sections = ['about', 'education', 'experience', 'contact'];
            sections.forEach(section => {
                // ä¼˜å…ˆä» localStorage è¯»å–ä¿å­˜çš„å†…å®¹ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨é»˜è®¤å†…å®¹
                const zhContent = localStorage.getItem(`${section}Content_zh`) || defaultContents.zh[section];
                const enContent = localStorage.getItem(`${section}Content_en`) || defaultContents.en[section];
                
                document.getElementById(`${section}Content`).value = zhContent;
                updatePreview(section);
            });
        }

        // æ›´æ–°é¢„è§ˆ
        function updatePreview(section) {
            const content = document.getElementById(`${section}Content`).value;
            const previewContent = document.querySelector(`#${section}Section .preview-content`);
            if (previewContent) {
                previewContent.innerHTML = marked.parse(content);
            }
        }

        // ä¿å­˜å†…å®¹
        function saveContent(section) {
            const content = document.getElementById(`${section}Content`).value;
            localStorage.setItem(`${section}Content_${currentLang}`, content);
            
            // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
            const successMessage = document.getElementById(`${section}Success`);
            successMessage.style.display = 'block';
            setTimeout(() => {
                successMessage.style.display = 'none';
            }, 2000);

            // æ›´æ–°é¢„è§ˆ
            updatePreview(section);
        }

        // åˆ é™¤å†…å®¹
        function deleteContent(section) {
            if (confirm('ç¡®å®šè¦åˆ é™¤è¿™æ®µå†…å®¹å—ï¼Ÿåˆ é™¤åå°†æ¢å¤é»˜è®¤å†…å®¹ã€‚')) {
                localStorage.removeItem(`${section}Content_${currentLang}`);
                // æ¢å¤é»˜è®¤å†…å®¹
                document.getElementById(`${section}Content`).value = defaultContents[currentLang][section];
                updatePreview(section);
                
                // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
                const successMessage = document.getElementById(`${section}Success`);
                successMessage.textContent = 'å·²æ¢å¤é»˜è®¤å†…å®¹ï¼';
                successMessage.style.display = 'block';
                setTimeout(() => {
                    successMessage.style.display = 'none';
                    successMessage.textContent = 'ä¿å­˜æˆåŠŸï¼';
                }, 2000);
            }
        }

        // åˆ‡æ¢è¯­è¨€
        function switchLang(lang) {
            currentLang = lang;
            const section = currentSection;
            
            // æ›´æ–°è¯­è¨€æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });

            // æ›´æ–°é¢„è§ˆæ ‡ç­¾çŠ¶æ€
            document.querySelectorAll('.preview-tab').forEach(tab => {
                tab.classList.toggle('active', tab.dataset.lang === lang);
            });

            // åŠ è½½å¯¹åº”è¯­è¨€çš„å†…å®¹
            const content = localStorage.getItem(`${section}Content_${lang}`) || defaultContents[lang][section];
            document.getElementById(`${section}Content`).value = content;
            updatePreview(section);
        }

        // åˆ‡æ¢å†…å®¹åŒºåŸŸ
        function switchSection(section) {
            currentSection = section;
            
            // éšè—æ‰€æœ‰åŒºåŸŸ
            document.querySelectorAll('.content-wrapper').forEach(el => {
                el.style.display = 'none';
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„åŒºåŸŸ
            document.getElementById(`${section}Section`).style.display = 'grid';
            
            // æ›´æ–°å¯¼èˆªæ æ´»åŠ¨çŠ¶æ€
            document.querySelectorAll('.admin-nav a').forEach(a => {
                a.classList.remove('active');
                if (a.dataset.section === section) {
                    a.classList.add('active');
                }
            });

            // åŠ è½½å½“å‰è¯­è¨€çš„å†…å®¹
            const content = localStorage.getItem(`${section}Content_${currentLang}`) || defaultContents[currentLang][section];
            document.getElementById(`${section}Content`).value = content;
            updatePreview(section);
        }

        // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œ
        window.onload = function() {
            checkLogin();
            loadContent();

            // æ·»åŠ å¯¼èˆªäº‹ä»¶ç›‘å¬
            document.querySelectorAll('.admin-nav a').forEach(a => {
                if (a.dataset.section) {
                    a.addEventListener('click', (e) => {
                        e.preventDefault();
                        switchSection(a.dataset.section);
                    });
                }
            });

            // æ·»åŠ è¯­è¨€åˆ‡æ¢äº‹ä»¶ç›‘å¬
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    switchLang(btn.dataset.lang);
                });
            });

            // æ·»åŠ é¢„è§ˆæ ‡ç­¾åˆ‡æ¢äº‹ä»¶ç›‘å¬
            document.querySelectorAll('.preview-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    switchLang(tab.dataset.lang);
                });
            });

            // æ·»åŠ è¡¨å•æäº¤äº‹ä»¶ç›‘å¬
            const sections = ['about', 'education', 'experience', 'contact'];
            sections.forEach(section => {
                const form = document.getElementById(`${section}Form`);
                const textarea = document.getElementById(`${section}Content`);
                
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    saveContent(section);
                });

                // æ·»åŠ å®æ—¶é¢„è§ˆ
                textarea.addEventListener('input', () => {
                    updatePreview(section);
                });
            });
        };
    </script>
</body>
</html> 